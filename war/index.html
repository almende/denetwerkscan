<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html ng-app="controller">
<head>
    <title>De Netwerk Scan - Stichting Zelforganisatie</title>

    <link type="text/css" rel="stylesheet" href="css/themix.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">

    <script src='lib/jquery-1.8.0.min.js' type="text/javascript"></script>
    <script src='lib/jquery-ui-autocomplete/jquery-ui-1.8.23.custom.min.js' type="text/javascript"></script>
    <script src="lib/angular-1.0.1.min.js" type="text/javascript"></script>
    <script src="lib/angular-resource-1.0.1.min.js" type="text/javascript"></script>
    <script src="lib/network/network-min.js" type="text/javascript" ></script>
    <script src="js/controller.js" type="text/javascript" ></script>
    <script src="js/networkview.js" type="text/javascript" ></script>
    <script src="js/inq.js" type="text/javascript" ></script>
</head>

<body>

<div id="container" ng-controller="Controller">


<div id="header">
    <a href="http://www.z11org.nl/">
        <img src="img/z11org/logo.jpg" alt="logo" id="logo">
    </a>
    <div id="user-menu">
        <div ng-show="user">
            <span ng-show="user.email" title="{{userTitle()}}">
                [{{user.email}}]
            </span>
            <a ng-show="user.isLoggedIn" href="{{user.logoutUrl}}">uitloggen</a>
            <a ng-show="!user.isLoggedIn" href="{{user.loginUrl}}">inloggen</a>
        </div>
        <div ng-hide="user" style="color: gray;">
            bezig met laden...
        </div>
    </div>
</div>

<div id="nav">
    <ul>
        <li>
            <a href="#">De Netwerk Scan</a>
        </li>
    </ul>
</div>

<div id="subheader"></div>

<div id="wrap-menu">
    <div id="menu">
        <h2>Test</h2>

        <!-- TODO: selection of a test (different set of participants)
        <select ng-model="test"
                ng-options="test for test in tests"></select>
        -->

        <div class="listitem" >
            <a class="page"
               ng-click="page = 'intro'"
               ng-class="{'selected': page=='intro'}">Introductie</a>
        </div>
        <div class="listitem">
            <a class="page"
               ng-click="start()"
               ng-class="{'selected': (page=='form' && current.id==user.email)}">Mijn Gegevens</a>
        </div>
        <div class="listitem">
            <a class="page"
               ng-click="page='network'"
               ng-class="{'selected': page=='network'}">Mijn Netwerk</a>
        </div>

        <h2>Deelnemers <img ng-show="querying" src="img/loading5.gif"></h2>
        <div>
            <a class="refresh"
               ng-click="query()"
               title="Deelnemers lijst opnieuw laden">vernieuwen</a>
            <input ng-model="search.name"
                   type="text"
                   placeholder="zoeken..." />
        </div>
        <div ng-repeat="person in persons | filter:search" class="person">
            <div ng-class="{'selected': current.id==person.id}" >
                <a class="person"
                   ng-click="load(person.id)">{{person.name || person.id}}</a>
                <a class="delete"
                   ng-click="delete(person.id, person.name)"
                   ng-show="(current.id==person.id) && (isAdmin() || (user.email==person.id))"
                   title="Deelnemer verwijderen">&times;</a>
                <div style="clear: both;"></div>
            </div>
        </div>
    </div>
</div>
<div id="wrap-contents">
    <div id="contents">
        <div ng-show="page == 'intro'">
            <h1>
                How connected are you?
                <span class="h1-subtitle">
                    Let's analyze your social network
                </span>
            </h1>
            <p>
                De Netwerk Scan van Stichting Zelforganisatie heeft als doel om
                uw netwerk in kaart te brengen en u feedback te geven op de mate
                waarin u verbonden bent met uw netwerk. Netwerken die zich lenen
                voor zelforganisatie vertonen in de praktijk alle dezelfde
                kenmerken. Dit is niet alleen zichtbaar bij mensen en het
                internet maar ook bij vogels, vissen en insecten.
                We noemen dergelijke netwerken scale free.
                In hoeverre is uw netwerk scale free? Dat inventariseren we
                in deze Netwerk Scan. Vult u de scan astublieft zo volledig
                mogelijk in zodat wij u een zo compleet mogelijk beeld van uw
                netwerk kunnen geven.

                Bij de Netwerk Scan gaan we niet uit van de groep waarin u zit
                (familie, vriendenkring) maar kiezen we voor de verschillende
                rollen die u heeft als ouder, vriend of collega. Bijvoorbeeld:
                wanneer we kiezen voor een indeling in groepen, dan kunt u zo
                alle bloedlijnen die u heeft invullen. Echter, wanneer u
                bijvoorbeeld met uw broer een bedrijf heeft opgericht, kan het
                zijn dat het zakelijk contact frequenter plaatsvindt dan het
                familiecontact. Aangezien het ons gaat om de frequentie van het
                contact meten we hier de mate van contact uit hoofde van een
                bepaalde rol (zakelijk partner).
            </p>

            <p>
                <a href="img/mindmap.png" target="_blank">
                    <img alt="mindmap" src="img/mindmap_300x262.png" align="right"
                         width="300" height="263" title="Klik voor een grotere weergave">
                </a>

                Ter verduidelijking ziet u hiernaast de visualisatie van een
                voorbeeldnetwerk in een mindmapschema; u staat zelf centraal
                en om u heen heeft u een diversiteit aan contacten opgebouwd,
                die in verschillende deelnetwerken zijn te verdelen.
                Voor de volledigheid kunt u kunt ervoor kiezen om eerst een
                handmatige schets te maken en dan pas de Netwerk Scan in te vullen.
            </p>

            <p>
                Uiteraard is uw netwerk niet altijd hetzelfde;
                over aan jaar kan het er heel anders uitzien.
                Het is dan ook goed om u te realiseren dat de score een momentopname is.
                Na het invullen van de Netwerk Scan treft u als output ook een
                visualisatie van uw netwerk aan.
                Deze is uitsluitend bedoeld om u inzicht te geven in de opbouw
                van uw netwerk op dit moment en geeft dus geen waardeoordeel.
                Er is geen 'goed' of 'fout'. Wel is het mogelijk om op basis van
                het huidige plaatje bepaalde veranderingen aan te brengen die
                uw netwerk later meer scale free maken. Dit resulteert in een
                andere netwerkscore en een ander plaatje van uw netwerk.
                Om het in beeldspraak te zeggen: de scan levert op moment x een
                'foto' op van uw netwerk. Wanneer u dit later een paar keer zou
                herhalen, vormen de diverse foto's op moment y tezamen een 'film'.
            </p>

            <p>
                Heeft u hier vragen over? <a href="mailto:info@z11org.nl">Wij helpen u graag!</a>
            </p>

            <p>
                <button ng-click="start()" title="Start de test">Start</button>
            </p>
        </div>

        <div ng-show="page == 'form'">
            <h1>Gegevens</h1>

            <div ng-show="!user.email">
                <p>
                    Voordat u uw gegevens kunt invullen of bekijken, dient u in te loggen.
                </p>
                <button ng-click="login()" title="Inloggen">Inloggen</button>
            </div>

            <div ng-show="user.email && !current">
                <button ng-click="start()" title="Open een nieuw formulier">Nieuw</button>
            </div>
            <div ng-show="user.email && current">
                <!-- form paging menu -->
                <div>
                    <div class="arrow"
                         ng-class="{'arrow-selected': true}"
                         ng-click="formPage = 'self'">
                        <!--
                        <div class="left"></div>
                        -->
                        <div class="content">
                            Persoonsgegevens
                        </div>
                        <div class="right"></div>
                    </div>

                    <div class="arrow"
                         ng-class="{'arrow-selected': (formPage=='contacts' || formPage=='score')}"
                         ng-click="formPage = 'contacts'">
                        <div class="left"></div>
                        <div class="content">
                            Contacten
                        </div>
                        <div class="right"></div>
                    </div>

                    <div class="arrow"
                         ng-class="{'arrow-selected': formPage=='score'}"
                         ng-click="formPage = 'score'">
                        <div class="left"></div>
                        <div class="content">
                            Score
                        </div>
                        <div class="right"></div>
                    </div>

                    <div style="clear:both;"></div>
                </div>

                <!-- status -->
                <div id="status">
                    <span ng-show="saving">bezig met opslaan...</span>
                    <span ng-show="deleting">bezig met verwijderen...</span>
                    <span ng-show="loading">bezig met laden...</span>
                    <span ng-show="error">Error: {{error}}</span>
                </div>

                <div ng-show="formPage=='self'">
                    <h2>Wie bent u?</h2>
                    <p>
                        Vul uw algemene gegevens in.
                    </p>
                    <div class="form-frame" ng-readonly="true">
                        <table>
                            <tr><td>Email</td><td>
                                <input type="text"
                                       ng-model="current.id"
                                       ng-readonly="!isAdmin()"/>
                            </td></tr>
                            <tr><td>Naam</td><td>
                                <input type="text"
                                       ng-model="current.name"
                                       ng-readonly="readonly" />
                            </td></tr>
                            <tr><td>Leeftijd</td><td>
                                <input type="text"
                                       ng-model="current.age"
                                       ng-readonly="readonly" />
                            </td></tr>
                            <tr><td>Geslacht</td><td>
                                <select ng-model="current.gender"
                                        ng-hide="readonly">
                                    <option value="MALE">Man</option>
                                    <option value="FEMALE">Vrouw</option>
                                </select>
                                <input type="text"
                                       value="{{describeGender(current.gender) }}"
                                       ng-show="readonly"
                                       ng-readonly="true" />
                            </td></tr>
                            <tr><td>Beroep</td><td>
                                <input type="text"
                                       ng-model="current.profession"
                                       ng-readonly="readonly" />
                            </td></tr>
                        </table>
                    </div>

                    <p>
                        <button ng-disabled="true" title="Vorige pagina">&#9668; Vorige</button>
                        <button ng-click="formPage='contacts'" title="Volgende pagina">Volgende &#9658;</button>
                    </p>
                </div>

                <div ng-show="formPage=='contacts'">

                    <div ng-repeat="domain in current.domains">
                        <a ng-click="deleteDomain(current, domain)"
                           ng-show="!readonly"
                           class="delete"
                           title="Deelnetwerk {{domain.name}} verwijderen">&times;</a>

                        <h2>{{domain.name}}</h2>
                        <p>
                            Vul de namen van uw {{domain.name.toLowerCase()}} in, en geef aan hoe
                            intensief contact u met elk van hen hebt.
                        </p>

                        <div class="form-frame">
                            <table>
                                <tr ng-show="domain.relations.length">
                                    <td>
                                        Naam
                                        <div class="info-tooltip">?
                                            <div>
                                                <h3>
                                                    Toelichting op het begrip 'naam'
                                                </h3>
                                                <p>
                                                    Vul hier de volledige naam van uw contact in:
                                                    voornaam en achternaam.
                                                </p>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        Frequentie
                                        <div class="info-tooltip">?
                                            <div>
                                                <h3>
                                                    Toelichting op het begrip 'frequentie'
                                                </h3>
                                                <p>
                                                    Definitie van frequentie: dit verdelen wij onder in dagelijks,
                                                    wekelijks, maandelijks, eens per kwartaal of jaarlijks contact.
                                                    Alle vormen van contact tellen mee, niet alleen direct het
                                                    face to face contact maar ook contact via de telefoon,
                                                    per mail, sms, internet of sociale media.
                                                </p>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat="relation in domain.relations">
                                    <td><input type="text"
                                               autocomplete="names"
                                               selection="relation.name"
                                               ng-model="relation.name"
                                               ng-readonly="readonly" />
                                    </td>
                                    <td>
                                        <select ng-model="relation.frequency"
                                                ng-options="frequency for frequency in frequencies"
                                                ng-hide="readonly"></select>
                                        <input type="text"
                                               ng-model="relation.frequency"
                                               ng-show="readonly"
                                               ng-readonly="true" />
                                    </td>
                                    <td class="delete">
                                        <a ng-click="deleteRelation(domain, relation)"
                                           ng-show="!readonly"
                                           class="delete"
                                           title="Relatie verwijderen">&times;</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button ng-click="addRelation(domain)"
                                                ng-disabled="readonly"
                                                title="Voeg een relatie toe">Toevoegen</button>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                    </div>


                    <div>
                        <h2>Deelnetwerk toevoegen</h2>

                        Kies een deelnetwerk

                        <div class="info-tooltip">?
                            <div>
                                <h3>
                                    Toelichting op het begrip 'deelnetwerk'
                                </h3>
                                <p>
                                    Het deelnetwerk 'vrije tijd' omvat bijvoorbeeld mensen die u spreekt
                                    als u uw hobby of sport uitoefent. Het deelnetwerk 'overig'
                                    omvat bijvoorbeeld mensen die u ontmoet als u uitgaat of op vakantie gaat.
                                </p>
                            </div>
                        </div>&nbsp;

                        om uw contacten

                        <div class="info-tooltip">?
                            <div>
                                <h3>
                                    Toelichting op het begrip 'contact'
                                </h3>
                                <p>
                                    Defintie van contact: het geven van instructies of inlichtingen
                                    aan elkaar en het ontvangen van informatie van de ander als middel
                                    om elkaars gedachtewereld te leren kennen. Dit proces kan in &eacute;&eacute;n
                                    richting, vice versa dan wel over meerdere stations verlopen.
                                </p>
                            </div>
                        </div>&nbsp;

                        in te voeren.
                        U hoeft alleen contacten in te voeren bij deelnetwerken
                        die voor u relevant zijn. Mist u een netwerk?
                        Vul dit dan in bij 'Overig'.
                        Bent u klaar? Klik dan op 'Volgende'.
                        <p></p>

                        <div class="form-frame">
                            Deelnetwerk toevoegen:
                            <span ng-repeat="domainName in domains">
                                <button ng-click="addDomain(current, domainName)"
                                        ng-disabled="readonly"
                                        ng-hide="getDomain(current, domainName)"
                                        title="Voeg het deelnetwerk '{{domainName}}'toe">{{domainName}}</button>

                            </span>
                        </div>
                    </div>


                    <p>
                        <button ng-click="formPage='self'" title="Vorige pagina">&#9668; Vorige</button>
                        <button ng-click="formPage='score'" title="Volgende pagina">Volgende &#9658;</button>
                    </p>
                </div>

                <div ng-show="formPage=='score'">
                    <h2>Score</h2>
                    <p>
                        Uw Individuele Netwerk Co&euml;ffici&euml;nt (INQ) is:
                        <span style="font-weight: bold;">
                            {{currentInq}}
                        </span>
                    </p>

                    <p>
                        <a ng-click="page='network'">Klik hier</a> voor een visualisatie van uw netwerk op dit moment.
                    </p>

                    <p>
                        <button ng-click="formPage='contacts'" title="Vorige pagina">&#9668; Vorige</button>
                        <button ng-disabled="true" title="Volgende pagina">Volgende &#9658;</button>
                    </p>
                </div>
            </div>
        </div>

        <div ng-show="page == 'network'">
            <h1>Uw netwerk in kaart <img ng-show="networkLoading" src="img/loading5.gif"></h1>

            <p>
                De netwerkvisualisatie toont een plaatje van uw sociale netwerk op dit moment.
                De dikte van de lijn tussen twee mensen geeft intensiteit van
                het contact aan - hoe dikker de lijn is, des te intensiever is het contact.
                De lijnkleur geeft aan in welke rol u contact heeft met iemand anders
                (in welk 'deelnetwerk').

                U kunt zelf aangeven in hoeverre anderen uw gegevens mogen inzien:
            </p>

            <ol>
                <li>de informatie is alleen bestemd voor uzelf;</li>
                <li>anderen mogen de informatie zien zodra zij u terugnoemen;</li>
                <li>iedereen mag uw informatie zien.</li>
            </ol>

            <div id="network"></div>
        </div>

        <div ng-show="page == 'score'">
            <h1>Score</h1>
            <p>
                Nog niet geimplemeteerd...
            </p>
        </div>
    </div>
</div>

<div id="contents-end"></div>
</div>

<div id="wrapper-bottom"></div>

<div id="footer">
    <div id="footer-top"></div>
    <div id="footer-mid">
        <div id="footer-blocks">
            <div class="footer-block">
                <h4>De Netwerk Scan</h4>
                <p>
                    <a href="http://denetwerkscan.appspot.com" target= "_blank">
                        denetwerkscan.appspot.com
                    </a>
                </p>
                <p>
                    <a href="https://github.com/almende/selforganizationtest" target= "_blank">
                        Ontwikkeld door Almende
                    </a>
                </p>
            </div>
            <div class="footer-block">
                <h4>Contact</h4>
                <p>
                    Tel: 010-4049444
                </p>
                <p>
                    <a href="mailto:info@z11org.nl" target= "_blank">
                        info@z11org.nl
                    </a>
                </p>
            </div>
            <div class="footer-block">
                <h4>Connect</h4>
                <p>
                    <a href="http://www.twitter.com/Zelforganisatie" target= "_blank">
                        <img alt="twitter" width="72" height="17" src="img/z11org/twitter.png"/>
                    </a>
                </p>
                <p>
                    <a href="http://www.linkedin.com/groups?home=&gid=2956564" target= "_blank">
                        <img alt="linkedin" width="74" height="19" src="img/z11org/linkedin.png"/></a>
                </p>
                <p>
                    <a href="http://www.facebook.com/zelforganisatie" target= "_blank">
                        <img alt="facebook" width="96" height="36" src="img/z11org/facebook.jpg"/></a>
                </p>
                <p>
                    <a href="http://www.youtube.com/user/Zelforganisatie" target= "_blank">
                        <img alt="youtube" width="64" height="24" src="img/z11org/youtube.png"/>
                    </a>
                </p>
            </div>
            <div class="footer-block-end"></div>
        </div>
    </div>
</div>
</body>
</html>
